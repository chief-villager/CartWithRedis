@model IEnumerable<Product>
@{
    ViewData["Title"] = "Dashboard";
}

<style>
    .card {
        display: flex;
    }
</style>

<div>
    <div class="container">
        <div class="row">
            @foreach (var item in Model)
            {
                <div class="col-md-4 mb-4">
                    <div class="card h-100 d-flex flex-column">
                        <img src=@item.ProductUrl class="card-img-top" alt="...">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">@item.ProductName</h5>
                            <p class="card-text">This is a wider card with supporting text below as a natural lead-in to
                                additional
                                content. This content is a little bit longer.</p>
                            <div class="myBtn">
                                <button value=@item.Id onclick="addFunction(event, @item.Id)" id="addBtn"
                                    style="width: min-content;" type="button" class="btn btn-primary">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                        class="bi bi-plus-circle-fill" viewBox="0 0 16 16">
                                        <path
                                            d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3z" />
                                    </svg>
                                </button>

                                <button style="width: min-content;" type="button" class="btn btn-danger">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                        class="bi bi-dash-circle-fill" viewBox="0 0 16 16">
                                        <path
                                            d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M4.5 7.5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1z" />
                                    </svg>
                                </button>
                            </div>

                            <p class="card-text mt-auto"><small class="text-muted">Last updated 3 mins ago</small></p>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>

<script>

    function addFunction(e, productId) {
        e.preventDefault();
        console.log(productId);
        var url = `AddToCart/${productId}`;
        fetch(url, {
            method: "GET"
        });
    }


</script>